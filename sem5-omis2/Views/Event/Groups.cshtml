@model IEnumerable<lab2.Models.EventGroup>

@{
    ViewData["Title"] = "Группы мероприятий";
}

<h3>Группы мероприятий</h3>

<!-- Вкладки -->
<ul class="nav nav-tabs" id="myTab" role="tablist">
    @foreach (var group in Model)
    {
        <li class="nav-item" role="presentation">
            <a class="nav-link @((group == Model.First() ? "active" : ""))" id="tab-@group.Id" data-bs-toggle="tab" href="#group-@group.Id" role="tab" aria-controls="group-@group.Id" aria-selected="true">@group.GroupName</a>
        </li>
    }
</ul>

<!-- Контент для каждой группы -->
<div class="tab-content" id="myTabContent">
    @foreach (var group in Model)
    {
        <div class="tab-pane fade @((group == Model.First() ? "show active" : ""))" id="group-@group.Id" role="tabpanel" aria-labelledby="tab-@group.Id">
            <h4>@group.Theme</h4>
            <ul>
                @foreach (var @e in group.Events)
                {
                    <li>
                        <strong>@e.Name</strong> - @e.Date.ToString("dd/MM/yyyy")<br />
                        <em>@e.Location</em><br />
                        <a href="@Url.Action("Details", "Event", new { id = @e.Id })" class="btn btn-info">Подробнее</a>
                    </li>
            }
        </ul>
    </div>
    }
</div>

<!-- Стили для активных вкладок -->
@section Styles {
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" />
}
